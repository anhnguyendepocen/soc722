---
title: "Causality"
author: "Stephen Vaisey"
date: "Fall 2019"
output:
  ioslides_presentation: 
    incremental: no
    transition: .01
    widescreen: yes
---

<style>
.center {
 text-align: center
}
</style>

```{r setup, echo=FALSE, message=FALSE}
knitr::opts_chunk$set(echo = FALSE, 
                      fig.align = 'center', message = FALSE)
library(tidyverse)
library(here)

```

# Course business

## Review: A typical week

**Monday**: skim/read chapter; start DataCamp

**Tuesday**: lecture (possible quiz)

**Wednesday**: reread chapter; go through chapter code

**Thursday**: ask questions in lab, practice coding

**Friday-Sunday**: complete exercises, submit via Sakai


## Homework debrief


## Ask me **two questions** about the concepts


## Agenda for today

1. Review: why do experiments work

2. Review of descriptive statistics

3. Introduction to observational data

4. Simple approaches to causal inference with observational data


## Questions?


# 1. Review

## Why do experiments work? (Discuss)

# 2. Descriptive statistics

## Descriptive stats you need to know
- Mean
- Median
- Mode
- Quantiles (e.g., 25th, 75th)
- Interquartile range
- Standard deviation
- Variance

## Mean

- The **mean** is the sum of the observations divided by the number of observations
- Generally called the average
- "Center of gravity" of the distribution

##
```{r}
knitr::include_graphics(here("images", "balance.PNG"))


```

## Median

- The middle observation in an ordered set (if $n$ is an odd number) or the mean of the two middle observations in an ordered set (if $n$ is an even number.)
- Insensitive to outliers

##
```{r, out.width="80%"}
knitr::include_graphics(here("images", "meme.jpg"))

```


## {.smaller}
```{r}
gss <- haven::read_dta(here("data", "GSS2018.dta")) %>%
  haven::zap_labels()          # remove labels from values

```

### 2018 GSS ideal \# of children: what's the median?

```{r, echo = TRUE}
gss %>% select(chldidel) %>%   # keep the variable you need
  filter(chldidel < 8 ) %>%    # get rid of invalid responses
  group_by(chldidel) %>%       # each answer is own "group"
  add_count(chldidel) %>%      # add count of each response
  slice(1) %>%                 # keep one "rep" from each group
  ungroup() %>%                # forget grouping for mutate
  mutate(prop = n/sum(n) ,     # create proportion column
         cprop = cumsum(prop)) # create cumulative column

```