---
title: "Introduction and Causality"
author: "Stephen Vaisey"
date: "Fall 2019"
output:
  ioslides_presentation: 
    incremental: yes
    transition: faster
    widescreen: yes
---

```{r setup, echo=FALSE, message=FALSE}
knitr::opts_chunk$set(echo = FALSE, fig.align = 'center', message = FALSE)
library(tidyverse)

```


## Goals of the course

By the end of the course, you should know how to:

1. Import and manage data in R
2. Perform basic descriptive analysis
3. Create simple univariate and bivariate visualizations
4. Estimate and interpret basic regression models
5. Quantify the uncertainty of your conclusions
6. Make informed judgments about (simple) competing models
7. Create reproducible reports using R Markdown

## About R

- base R vs. tidyverse
- for tidyverse code, see link in Sakai
- you will learn tidyverse via DataCamp (custom track)
- for visualization basics, see <http://socviz.co>


## Things to be aware of

- R and RStudio
- R Markdown
- Slack
- DataCamp

## A typical week

**Monday**: skim/read chapter; start DataCamp

**Tuesday**: lecture (possible quiz)

**Wednesday**: reread chapter; go through chapter code

**Thursday**: ask questions in lab, practice coding

**Friday-Sunday**: complete exercises, submit via Sakai

## Questions?

# Causality: The Potential Outcomes Framework

## Asking causal questions

- Does more education *cause* higher wages?
- Does participating in a job training program *cause* a higher probability of employment?
- Do boycotts *cause* a drop in a company's share price?
- These are tough questions!

## Threats to causal inference
```{r, out.width="50%"}
knitr::include_graphics("confounding.JPG")

```

## Key term: Identification
How do we *identify* the effect of a treatment (cause) on an outcome?

## Experiments and the "independent variable"

- What is an experiment?
- How do experiments solve the problem we just talked about?

## Example: Audit study

- Correll et al. sent fake resumes and cover letters to 300+ employers
- Treatment categories
  - Mother (PTA officer; relocating "with family")
  - Childless (alumni officer; relocating)

## Results

```{r, out.width="80%"}
knitr::include_graphics("correll.png")

```

They find a negative effect of motherhood on the probability of a call back

## Results
```{r}
d <- tibble( treatment = c( "mother", "childless" ) ,
             call_pct = c(.031, .066) )
ggplot( d , aes( x = treatment, y = call_pct )) +
  geom_bar(stat = "identity") +
  labs(y = "Proportion Called Back") +
  theme_minimal()

```

## Experiments are great!

Assuming successful randomization to treatment and control, 
you **know** it's the treatment that's causing the effect.

## Experiments can't do everything

- ethics
- external validity
- often non-representative
- some treatments are hard or impossible to assign randomly
  - motherhood
  - divorce
  - boycotts
  
## Why are experiments able to identify causal effects?

## Some notation

$T$  a binary treatment variable

$Y$  the value of the outcome we observe

$Y^0$  the value the outcome *would* take if $T=1$

$Y^1$  the value the outcome *would* take if $T=0$

Let's think about the last two a bit more carefully...


## The world before the experiment

Subject      $Y^0$   $Y^1$   $T$   $Y$
----------- ------- ------- ----- -----
Andrew        2        3      
Barb          3        4      
Catherine     3        4      
David         2        3      




