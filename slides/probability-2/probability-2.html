<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <title>Probability, Part II</title>
    <meta charset="utf-8" />
    <meta name="author" content=" Stephen Vaisey Duke University" />
    <link href="libs/font-awesome-5.3.1/css/fontawesome-all.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
    <link rel="stylesheet" href="addons.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: left, middle, inverse, title-slide

# Probability, Part II
### <small><br>Stephen Vaisey<br>Duke University</small>
### <span style="font-size: 65%;">Last update: 2019-10-15<br><br><i class="fas  fa-link "></i> <a href='stephenvaisey.com'><font color='F3F2F1'>stephenvaisey.com</font></a><br><i class="fab  fa-twitter "></i> <a href='http://twitter.com/vaiseys'><font color='F3F2F1'><span class="citation">@vaiseys</span></font></a><br><i class="fab  fa-github "></i> <a href='https://github.com/vaiseys'><font color='F3F2F1'>vaiseys</font></a></span>

---






class: center, middle

# Ask two questions

---
class: center, middle

# Assessment time

---

## Today's agenda

1. More on probability

2. Distributions

3. Large sample theorems

---
class: center,middle,inverse

# Probability

---

## Permutations

.pull-left[

`$$_nP_k=\frac{n!}{n-k!}$$`

]

.pull-right[

There are 5 groups to present in class. How many different presentation orders 
are possible? That is, how many ways can we arrange it?

`\(5\times 4 \times 3 \times 2 \times 1 = 120\)`

]

???

Ordering matters

5 permutations of 5 = 5!/0!

"Out of a set of 5, how many different ways can we order 5?"

---

## Combinations

`$$_nC_k = {n \choose k} = \frac{_nP_k}{k!} = \frac{n!}{k!(n-k)!}$$`

If there are six faculty available, how many different committees of 3 can
be formed?

`$$\frac{6!}{3!3!} = 20$$`

--

From a department of 20 professors, how many different committees of 5 can be 
formed?


```r
choose(20, 5)
```

```
## [1] 15504
```

---

## Combinations and probablity

$$_nC_k = {n \choose k} = \frac{_nP_k}{k!} = \frac{n!}{k!(n-k)!} $$

Let’s say 3 professors are male and 3 are female. What’s the probability that a 
committee of 3 with zero men will be formed?

How many ways are there to choose zero men out of 3? How many ways to choose 3 
women out of three? How many total ways are there for **anything** to happen?

--

$$\frac{{_3C_0} \times {_3C_3}}{_6C_3} = \frac{1 \times 1}{20} = .05 $$

---

## Marginal, joint, and conditional probability

| 2006 GSS    | no parent BA | parent BA
|:----|-------------:|-----------:|
| no BA | 1288 | 174 |
| BA    | 311 | 227

--

.col-text[

- How many ways can a single person be pulled out of the sample?
- What's the (marginal) probability a respondent completed a BA?
- What’s the (marginal) probability a respondent has at least one parent who completed college?
- What’s the (joint) probability both a respondent and parent completed college?
- What’s the (conditional) probability a respondent has a college degree if his/her parent has one?
- What’s the (conditional) probability a respondent has a college degree if his/her parent doesn’t have one?

]

???

2000
.269
.201
.114
.566
.195

---

## Independence of two variables

| 2006 GSS    | no parent BA | parent BA
|:----|-------------:|-----------:|
| no BA | 1288 | 174 |
| BA    | 311 | 227

Variables are independent when marginal and conditional probabilities are equal

`$$P(y=1|x=1) = P(y=1|x=0) = P(y=1)$$`
`$$P(y=0|x=1) = P(y=0|x=0) = P(y=0)$$`

.center[Is this true here?]

---

## Quantifying departures from independence

| 2006 GSS    | no parent BA | parent BA
|:----|-------------:|-----------:|
| no BA | 1288 | 174 |
| BA    | 311 | 227

`\(Pr(y = 1 | x = 0) = .195\)`

`\(Pr(y = 1 | x = 1) = .566\)`

---

## Three different ways

--

**Difference in probabilities**

.566-.195 = .371, or "37.1 percentage points higher"

--

**Risk ratio**

.566/.195 = 2.90, or "2.90 times more likely"

--

**Odds ratio**

(.566/.434)/(.195/.805) = 5.38, or "5.38 times greater odds"

---

## Using natural frequencies

- Among Americans without a college-educated parent, about 20 in 100 have a 
college degree

- Among Americans with a college-educated parent, about 57 in 100 have a 
college degree

???

Most of the time it’s best to just leave it at that rather than trying to 
interpret ratios or differences

---

## Connecting back to Bayes' rule

- What is the likelihood ratio of the "test"?
- What are the posterior odds?
- What is the posterior probability?
- What are the prior odds?

--

Is this the same as the marginal probability of college given parent college?

???

Having a degree is the “disease”; having a parent with a degree is the “test”

Prior odds are (311+227)/(1288+174) = .367989
LR is Pr(P=1 | C = 1) / Pr(P=1 | C = 0) = 3.545208
Posterior odds = 1.304597701
Posterior prob = PO/(1+PO) = .566

---
class:inverse, center, middle

# Distributions

???

Bernoulli, binomial, uniform, normal


---

## Online tool for visualizing distributions

https://gallery.shinyapps.io/dist_calc/

Play with this outside of class to build intuition!

---

## Bernoulli distribution

- A event either happens or it doesn’t
- This distribution has one parameter
- `\(p\)` is the probability of getting a "success" on each trial

Examples: graduating (or not), getting a disease (or not), dying since the last survey (or not)

---

## Binomial distribution

-  multi-trial version of the Bernoulli
- This distribution has two parameters
  - `\(p\)` is the probability of getting a "success" on each trial
  - `\(n\)` is the number of trials
  
--

*Example*: in a cohort of 20, how many males students can we expect to admit?

---

## Uniform distribution (discrete)

- Every possible outcome has equal probability
- It has two parameters
  - `\(a\)` is the minimum value
  - `\(b\)` is the maximum value

--

*Examples*: roll of a 6-sided die; last digit of student ID number

---

## Uniform distribution (continuous)

- A simple continuous distribution
- It has two parameters
  - `\(a\)` is the minimum value
  - `\(b\)` is the maximum value

--

*Examples*: what proportion of answers will a student get on an exam if I know nothing about the student or the exam [a=0, b=1]?; how many minutes will I wait for a bus that comes every hour and I don’t know when the last bus came [a=0, b=60]?

---

## Normal distribution

- The most important distribution
- Has two parameters
  - `\(\mu\)` is the mean (center)
  - `\(\sigma\)` is the standard deviation (spread)

--

*Examples*: heights in inches, baby weights at birth, standardized test scores, etc. (http://galtonboard.com/probabilityexamplesinlife)

---

## Mass vs. density

.pull-left[

### Mass (PMF)

&lt;img src="probability-2_files/figure-html/pmf-1.svg" width="100%" style="display: block; margin: auto;" /&gt;



]

.pull-right[

### Density (PDF)

&lt;img src="probability-2_files/figure-html/pdf-1.svg" width="100%" style="display: block; margin: auto;" /&gt;

]

**Mass** is for discrete distributions; **density** is for continous 
distributions.

---

## Cumulative distribution functions

.pull-left[

### Discrete

&lt;img src="probability-2_files/figure-html/cdf1-1.svg" width="100%" style="display: block; margin: auto;" /&gt;

]

.pull-right[

### Continuous

&lt;img src="probability-2_files/figure-html/cdf2-1.svg" width="100%" style="display: block; margin: auto;" /&gt;

]

---

## Why do we care about this?

- Because later we're going to model distribution parameters for an outcome as 
a *function of other variables*.

- For example, if `\(y\)` is a binomial outcome (losing your job), and `\(p\)` is the 
probability of losing your job, we want to see if we can predict systematic 
differences in `\(p\)` by things like gender, race, or age.

---
class:center,inverse,middle

# Large sample theorems

---

## Summary

.pull-left[

### Law of large numbers

As you get more data, your estimate(s) of the parameter(s) get closer and closer 
to the true values of the parameter(s).
]

--

.pull-right[

### Central limit theorem

No matter which distribution your variable takes on, the means of repeated 
samples of it will be normally distributed.

]

https://ihstevenson.shinyapps.io/sample_means/

---

## More next time...
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"ratio": "16:9",
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
